import{k as e,l as a,u as s,R as l,ae as r,U as o,r as t,a as d,af as n,ag as u,ah as i,ai as p,o as c,h as m,j as f,x as g,f as h,c as v,w,aj as x,ak as y,p as _,i as k,I as b}from"./vendor-fd815795.js";/* empty css                  */import{_ as V,u as j,c as U}from"./index-23534994.js";const q={class:"login"},C={class:"login-wrap card"},I=(e=>(_("data-v-00a8eab6"),e=e(),k(),e))((()=>f("h2",null,"欢迎使用~",-1))),P=b("登录");var z=V({setup(_){const k=e(),b=a(),V=s();l((()=>{document.onkeydown=()=>{13===window.event.keyCode&&G()}})),r((()=>{document.onkeydown=void 0}));const z={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"输入登录密码",trigger:"blur"}]};let F=o({username:"admin",password:"123456"}),R=t(!1),A=t(null),B=d((()=>V.getters.indexPath)),D="";const E=k.fullPath.split("redirect=");2===E.length&&(D=j(E[1])),D=D||B.value;const G=()=>{A.value.validate((e=>{if(!e)return!1;R.value=!0,V.dispatch("user/login",F).then((()=>{R.value=!1,b.push({path:D})})).catch((()=>{R.value=!1}))}))};return(e,a)=>{const s=n,l=u,r=i,o=p;return c(),m("div",q,[f("div",C,[I,f("h3",null,g(h(U).title),1),v(o,{ref_key:"loginForm",ref:A,model:h(F),rules:z,size:"large"},{default:w((()=>[v(l,{prop:"username"},{default:w((()=>[v(s,{modelValue:h(F).username,"onUpdate:modelValue":a[0]||(a[0]=e=>h(F).username=e),type:"text",clearable:"","prefix-icon":h(x),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])])),_:1}),v(l,{prop:"password"},{default:w((()=>[v(s,{modelValue:h(F).password,"onUpdate:modelValue":a[1]||(a[1]=e=>h(F).password=e),type:"password",clearable:"",placeholder:"请输入登录密码","prefix-icon":h(y)},null,8,["modelValue","prefix-icon"])])),_:1}),v(l,null,{default:w((()=>[v(r,{type:"primary",style:{width:"100%"},loading:h(R),onClick:G},{default:w((()=>[P])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])])}}},[["__scopeId","data-v-00a8eab6"]]);export{z as default};
